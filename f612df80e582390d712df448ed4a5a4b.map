{"version":3,"sources":["mandlebrot-js/src/consts.js","mandlebrot-js/src/is-in-mandlebrot-set.js","mandlebrot-js/src/mandlebrot.js","mandlebrot-js/node_modules/parcel-bundler/src/builtins/bundle-url.js","mandlebrot-js/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["CANVAS_DIMENSION","DEFAULT_ZOOM","DEFAULT_PANX","DEFAULT_PANY","DEFAULT_RESOLUTION","NODE_IDS","zoom","panX","panY","resolution","zoomDisplay","panXDisplay","panYDisplay","resolutionDisplay","htmlElements","changableNodeId","displayNodeId","defaultValue","checkIfBelongsToMandelbrotSet","x","y","maxIterations","realComponentOfResult","imaginaryComponentOfResult","i","tempRealComponent","tempImaginaryComponent","draw","canvas","context","MAX_ITERATIONS","width","height","belongsToSet","fillStyle","fillRect","main","document","getElementById","getContext","elementsWithNode","reduce","elements","element","changableNode","value","displayNode","innerHTML","Object","assign","drawConfig","onchange","target","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","length","module"],"mappings":"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","file":"f612df80e582390d712df448ed4a5a4b.map","sourcesContent":["export const CANVAS_DIMENSION = 600;\nexport const DEFAULT_ZOOM = 200;\nexport const DEFAULT_PANX = 2;\nexport const DEFAULT_PANY = 1.5;\nexport const DEFAULT_RESOLUTION = 100;\n\nexport const NODE_IDS = {\n  zoom: 'zoom',\n  panX: 'panX',\n  panY: 'panY',\n  resolution: 'resolution',\n  zoomDisplay: 'zoomDisplay',\n  panXDisplay: 'panXDisplay',\n  panYDisplay: 'panYDisplay',\n  resolutionDisplay: 'resolutionDisplay'\n};\n\nexport const htmlElements = [\n  {\n    changableNodeId: NODE_IDS.zoom,\n    displayNodeId: NODE_IDS.zoomDisplay,\n    defaultValue: DEFAULT_ZOOM\n  },\n  {\n    changableNodeId: NODE_IDS.panX,\n    displayNodeId: NODE_IDS.panXDisplay,\n    defaultValue: DEFAULT_PANX\n  },\n  {\n    changableNodeId: NODE_IDS.panY,\n    displayNodeId: NODE_IDS.panYDisplay,\n    defaultValue: DEFAULT_PANY\n  },\n  {\n    changableNodeId: NODE_IDS.resolution,\n    displayNodeId: NODE_IDS.resolutionDisplay,\n    defaultValue: DEFAULT_RESOLUTION\n  }\n];\n","export default function checkIfBelongsToMandelbrotSet(x, y, maxIterations) {\n  let realComponentOfResult = x;\n  let imaginaryComponentOfResult = y;\n\n  for (let i = 0; i < maxIterations; i += 1) {\n    // Calculate the real and imaginary components of the result\n    // separately\n    const tempRealComponent =\n      realComponentOfResult ** 2 - imaginaryComponentOfResult ** 2 + x;\n\n    const tempImaginaryComponent =\n      2 * realComponentOfResult * imaginaryComponentOfResult + y;\n\n    realComponentOfResult = tempRealComponent;\n    imaginaryComponentOfResult = tempImaginaryComponent;\n\n    // Is in Mandlebrot set\n    if (realComponentOfResult * imaginaryComponentOfResult > 5) {\n      return i / maxIterations * 100;\n    }\n  }\n\n  return 0; // Not in the set\n}\n","import 'milligram';\nimport './style.css';\nimport {\n  CANVAS_DIMENSION,\n  DEFAULT_ZOOM,\n  DEFAULT_PANX,\n  DEFAULT_PANY,\n  DEFAULT_RESOLUTION,\n  NODE_IDS,\n  htmlElements\n} from './consts';\nimport checkIfBelongsToMandelbrotSet from './is-in-mandlebrot-set';\n\nfunction draw(\n  canvas,\n  context,\n  {\n    zoom = DEFAULT_ZOOM,\n    panX = DEFAULT_PANX,\n    panY = DEFAULT_PANY,\n    resolution = DEFAULT_RESOLUTION\n  } = {}\n) {\n  const MAX_ITERATIONS = resolution;\n\n  for (let x = 0; x < canvas.width; x++) {\n    for (let y = 0; y < canvas.height; y++) {\n      const belongsToSet = checkIfBelongsToMandelbrotSet(\n        x / zoom - panX,\n        y / zoom - panY,\n        MAX_ITERATIONS\n      );\n\n      if (belongsToSet === 0) {\n        context.fillStyle = '#000';\n        context.fillRect(x, y, 1, 1); // Draw a black pixel\n      } else {\n        context.fillStyle = `hsl(0, 100%, ${belongsToSet}%)`;\n        context.fillRect(x, y, 1, 1); // Draw a colorful pixel\n      }\n    }\n  }\n}\n\n(function main() {\n  const canvas = document.getElementById('canvas');\n  const context = canvas.getContext('2d');\n\n  canvas.width = CANVAS_DIMENSION;\n  canvas.height = CANVAS_DIMENSION;\n\n  const elementsWithNode = htmlElements.reduce((elements, element) => {\n    const changableNode = document.getElementById(element.changableNodeId);\n    changableNode.value = element.defaultValue;\n    const displayNode = document.getElementById(element.displayNodeId);\n    displayNode.innerHTML = element.defaultValue;\n\n    return Object.assign(elements, {\n      [element.changableNodeId]: {\n        changableNode,\n        displayNode\n      }\n    });\n  }, {});\n\n  const drawConfig = {\n    zoom: elementsWithNode[NODE_IDS.zoom].changableNode.value,\n    panX: elementsWithNode[NODE_IDS.panX].changableNode.value,\n    panY: elementsWithNode[NODE_IDS.panY].changableNode.value,\n    resolution: elementsWithNode[NODE_IDS.resolution].changableNode.value\n  };\n  for (const element in elementsWithNode) {\n    elementsWithNode[element].changableNode.onchange = ({\n      target: { value }\n    }) => {\n      elementsWithNode[element].displayNode.innerHTML = value;\n      draw(canvas, context, Object.assign(drawConfig, { [element]: value }));\n    };\n  }\n\n  draw(canvas, context);\n})();\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}